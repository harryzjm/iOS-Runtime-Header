//
//     Generated by classdump-c 4.2.0 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard. Updated in 2022 by Kevin Bradley.
//

#import <objc/NSObject.h>

#import <DoNotDisturbServer/CKSyncEngineDataSource-Protocol.h>
#import <DoNotDisturbServer/DNDSKeybagStateObserver-Protocol.h>
#import <DoNotDisturbServer/DNDSSysdiagnoseDataProvider-Protocol.h>

@class CKContainer, NSMapTable, NSString;
@protocol DNDSKeybagStateProviding, DNDSSyncEngineLastChanceDataStoring, DNDSSyncEngineMetadataStoring, DNDSSyncEngineSynchronizing, OS_dispatch_queue;

@interface DNDSSyncEngine : NSObject <DNDSKeybagStateObserver, DNDSSysdiagnoseDataProvider, CKSyncEngineDataSource>
{
    id <DNDSSyncEngineMetadataStoring> _store;
    id <DNDSSyncEngineSynchronizing> _syncEngine;
    struct os_unfair_lock_s _lock;
    NSObject<OS_dispatch_queue> *_accountUpdateQueue;
    NSMapTable *_sourcesByZoneName;
    id <DNDSSyncEngineMetadataStoring> _metadataStore;
    id <DNDSSyncEngineLastChanceDataStoring> _lastChanceStore;
    struct {
        _Bool syncEnabled;
        _Bool featureEnabled;
        _Bool accountAvailable;
        _Bool encryptionAvailable;
        _Bool supportedDevice;
        _Bool testing;
    } _state;
    _Bool _allowSyncEngineCreation;
    CKContainer *_container;
    id <DNDSKeybagStateProviding> _keybag;
}

+ (id)sharedInstance;
- (void).cxx_destruct;
- (void)_migrateOldStoresWithSyncEnabledState:(_Bool)arg1;
- (void)_initialSyncForDataSource:(id)arg1 withZoneName:(id)arg2;
- (void)_initialSyncForDataSources;
- (void)_purgeDataFromDataSources;
- (id)_lock_dataSourceForRecord:(id)arg1;
- (id)_lock_dataSourceForZoneID:(id)arg1;
- (_Bool)_lock_isSyncPreferenceEnabled;
- (_Bool)_lock_isSyncAvailable;
- (_Bool)_lock_isSyncEnabled;
- (void)_lock_setCurrentUserRecordID:(id)arg1;
- (void)_lock_setEncryptionAvailable:(_Bool)arg1;
- (_Bool)_lock_encryptionAvailable;
- (id)_lock_currentUserRecordID;
- (void)_lock_setCurrentAccountStatus:(long long)arg1;
- (long long)_lock_currentAccountStatus;
- (id)_lock_dataSources;
- (void)_lock_destroySyncEngine;
- (void)_lock_purgeData;
- (void)_handleAccountFetchWithUpdatedUserRecordID:(id)arg1 updatedAccountStatus:(long long)arg2 updatedEncryptionAvailable:(_Bool)arg3 updatedSyncEnabled:(_Bool)arg4;
- (void)_fetchAccountStateWithCompletionHandler:(CDUnknownBlockType)arg1;
- (void)_accountUpdateQueue_updateAccountWithSyncEnabledState:(_Bool)arg1;
- (void)_updateAccountWithSyncEnabledState:(_Bool)arg1;
- (void)_updateAccountWithCurrentSyncEnabledState;
- (void)_cloudKitAccountChanged:(id)arg1;
- (void)_lock_startSyncEngine;
- (void)_retryLastChanceRecordsForDataSource:(id)arg1 withZoneName:(id)arg2;
- (void)_retryLastChanceRecords;
- (id)_zoneIDForRecord:(id)arg1;
- (id)sysdiagnoseDataForDate:(id)arg1 redacted:(_Bool)arg2;
@property(readonly, copy, nonatomic) NSString *sysdiagnoseDataIdentifier;
- (void)keybagDidUnlockForTheFirstTime:(id)arg1;
- (void)syncEngine:(id)arg1 zoneWithIDWasPurged:(id)arg2;
- (void)syncEngine:(id)arg1 zoneWithIDWasDeleted:(id)arg2;
- (_Bool)syncEngine:(id)arg1 shouldFetchChangesForZoneID:(id)arg2;
- (void)syncEngine:(id)arg1 recordWithIDWasDeleted:(id)arg2 recordType:(id)arg3;
- (id)syncEngine:(id)arg1 recordToSaveForRecordID:(id)arg2;
- (void)syncEngine:(id)arg1 failedToSaveRecord:(id)arg2 error:(id)arg3;
- (void)syncEngine:(id)arg1 failedToDeleteRecordWithID:(id)arg2 error:(id)arg3;
- (void)syncEngine:(id)arg1 didUpdateMetadata:(id)arg2;
- (void)syncEngine:(id)arg1 didSaveRecord:(id)arg2;
- (void)syncEngine:(id)arg1 didFetchRecord:(id)arg2;
- (void)syncEngine:(id)arg1 didDeleteRecordWithID:(id)arg2;
@property(readonly, nonatomic) _Bool hasLocalChanges;
- (void)pairedDeviceDidChange;
- (void)purgeZoneWithID:(id)arg1;
- (void)removeZoneWithID:(id)arg1;
- (void)handleDeletedRecordID:(id)arg1;
- (void)handleFetchedRecord:(id)arg1;
- (void)sync:(_Bool)arg1 withCompletionHandler:(CDUnknownBlockType)arg2;
- (void)fetchChanges:(_Bool)arg1 withCompletionHandler:(CDUnknownBlockType)arg2;
- (void)sendChangesWithCompletionHandler:(CDUnknownBlockType)arg1;
- (void)addRecordIDsToSave:(id)arg1 recordIDsToDelete:(id)arg2;
- (void)setDataSource:(id)arg1 forZoneName:(id)arg2;
- (void)setTesting:(_Bool)arg1;
@property(nonatomic, getter=isSyncPreferenceEnabled) _Bool syncPreferenceEnabled;
@property(readonly, nonatomic, getter=isSyncEnabled) _Bool syncEnabled;
@property(readonly, nonatomic, getter=isSyncAvailable) _Bool syncAvailable;
@property(readonly, nonatomic) unsigned long long cloudSyncState;
- (id)initWithMetadataStore:(id)arg1 lastChanceDataStore:(id)arg2 syncEngine:(id)arg3 keybag:(id)arg4 syncEnabled:(_Bool)arg5;
- (id)initWithMetadataStore:(id)arg1 lastChanceDataStore:(id)arg2 keybag:(id)arg3 syncEnabled:(_Bool)arg4;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

