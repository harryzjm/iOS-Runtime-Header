//
//     Generated by classdump-c 4.2.0 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard. Updated in 2022 by Kevin Bradley.
//

#import <objc/NSObject.h>

@class NSCondition, NSMutableArray, NSMutableDictionary, NSThread, TSKAccessControllerRunLoop, TSKRunLoopTicket, TSUWeakReference;
@protocol OS_dispatch_semaphore;

@interface TSKAccessController : NSObject
{
    TSUWeakReference *_delegate;
    struct _opaque_pthread_rwlock_t {
        long long __sig;
        char __opaque[192];
    } _rwLock;
    _Bool _secondaryThreadWriting;
    _Bool _thenReadingOnPrimaryThread;
    NSCondition *_cond;
    NSMutableDictionary *_signalIdentifiers;
    NSMutableDictionary *_waitIdentifiers;
    struct __CFRunLoopSource *_primaryThreadPingSource;
    NSMutableArray *_pendingPrimaryThreadBlocks;
    struct {
        struct _opaque_pthread_t *threadId;
        unsigned int count;
        CDStruct_2a021fcd ticketInfo;
    } _readerInfo[64];
    CDStruct_2a021fcd _primaryThreadTicketInfo;
    unsigned int _readerCount;
    NSMutableArray *_writerQueue;
    NSObject<OS_dispatch_semaphore> *_outstandingTicketReadLock;
    unsigned int _outstandingTicketCount;
    _Atomic _Bool _writeLockHeld;
    unsigned long long _writeBlockedPrimaryThreadCount;
    unsigned long long _primaryThreadWriteCount;
    _Atomic struct __CFRunLoop *_runLoop;
    _Atomic _Bool _isOnMainRunLoop;
    NSThread *_primaryThread;
    struct os_unfair_lock_s _primaryThreadIVarLock;
    _Atomic unsigned int _primaryThreadQualityOfServiceClass;
    _Atomic int _boostPrimaryThreadQualityOfServiceCount;
    TSKRunLoopTicket *_primaryRunLoopTicket;
    _Atomic int _performWhileAnotherWaitingThreadHasWriteCount;
}

- (void)p_willRelinquishWriteLock;
- (void)p_didAcquireWriteLock;
- (void)p_willAcquireWriteLock;
- (void)p_willRelinquishReadLock;
- (void)p_didAcquireReadLock;
- (void)p_willAcquireReadLock;
- (void)p_signalThread:(id)arg1;
- (_Bool)p_waitWithCondition:(id)arg1 untilDate:(id)arg2;
- (void)p_flushPendingPrimaryThreadBlocksQueueAcquiringLock:(_Bool)arg1;
- (void)p_performReadOnPrimaryThread:(CDUnknownBlockType)arg1 result:(_Bool)arg2;
- (void)p_schedulePrimaryThreadRead:(CDUnknownBlockType)arg1 result:(_Bool)arg2;
- (void)p_dequeueWrite;
- (void)p_enqueueWriteAndBlockAllowingPendingWrites:(_Bool)arg1;
- (unsigned long long)p_writerQueueIndexOfThreadIdentifier:(id)arg1;
- (id)p_threadIdentifier;
- (void)p_unblockPrimaryThread;
- (void)p_signalPrimaryThreadWriteComplete;
- (void)p_writeUnlock;
- (void)p_blockPrimaryThread;
- (void)p_writeLockAndBlockPrimaryThread:(_Bool)arg1;
- (void)p_asyncPerformBlockOnPrimaryThread:(CDUnknownBlockType)arg1;
- (void)p_blockPrimaryThreadForWrite;
- (void)p_decrementCountForReaderAtIndex:(unsigned int)arg1 releasingRealLock:(_Bool)arg2;
- (void)p_readUnlockReleasingRealLock:(_Bool)arg1;
- (void)p_readUnlock;
@property(readonly) _Bool hasWrite;
@property(readonly) _Bool hasRead;
- (_Bool)p_hasWrite;
- (_Bool)p_hasRead;
- (void)p_readLockTakingRealLock:(_Bool)arg1;
- (void)p_readLock;
@property(readonly) _Bool isOnPrimaryRunLoop;
@property(readonly) _Bool isOnMainRunLoop;
@property(readonly) _Bool isPrimaryThread;
- (void)assertHasReadOrWrite;
- (void)assertHasWrite;
- (void)assertHasRead;
- (void)p_performRead:(CDUnknownBlockType)arg1 eagerlyBlockingPrimaryThread:(_Bool)arg2 thenWrite:(CDUnknownBlockType)arg3 allowingPendingWrites:(_Bool)arg4 thenReadOnPrimaryThread:(CDUnknownBlockType)arg5;
- (void)performRead:(CDUnknownBlockType)arg1 thenWriteBeforePendingWrites:(CDUnknownBlockType)arg2 thenReadOnPrimaryThread:(CDUnknownBlockType)arg3;
- (void)performReadAllowingOverlappingImplicitRead:(CDUnknownBlockType)arg1 thenWrite:(CDUnknownBlockType)arg2 thenReadOnPrimaryThread:(CDUnknownBlockType)arg3;
- (void)performRead:(CDUnknownBlockType)arg1 thenWrite:(CDUnknownBlockType)arg2 thenReadOnPrimaryThread:(CDUnknownBlockType)arg3;
- (void)performWhileAnotherWaitingThreadHasWrite:(CDUnknownBlockType)arg1;
- (void)performWrite:(CDUnknownBlockType)arg1 blockPrimaryThread:(_Bool)arg2;
- (void)performWrite:(CDUnknownBlockType)arg1;
- (CDStruct_2a021fcd *)p_ticketInfoForCurrentThread;
- (CDStruct_2a021fcd *)p_ticketInfoForTicket:(id)arg1;
- (void)p_finishReadForTicketInfo:(CDStruct_2a021fcd *)arg1;
- (void)i_finishReadForTicket:(id)arg1;
- (void)i_startReadForTicket:(id)arg1;
- (void)performReadWithTicket:(id)arg1 block:(CDUnknownBlockType)arg2;
- (void)performReadGrantingTicket:(CDUnknownBlockType)arg1;
- (void)performRead:(CDUnknownBlockType)arg1;
- (void)signalIdentifier:(id)arg1;
- (_Bool)waitOnIdentifier:(id)arg1 untilDate:(id)arg2 releaseReadWhileWaiting:(_Bool)arg3;
- (void)waitOnIdentifier:(id)arg1;
- (void)p_didEndBoostingPrimaryThread;
- (id)boostPrimaryThreadQualityOfService;
@property(readonly) unsigned int primaryThreadQualityOfServiceClass;
- (void)p_setPrimaryThreadIfNeeded;
@property(readonly) NSThread *primaryThread;
- (void)removePrimaryThreadRunLoopSource:(struct __CFRunLoopSource *)arg1 mode:(struct __CFString *)arg2;
- (void)addPrimaryThreadRunLoopSource:(struct __CFRunLoopSource *)arg1 mode:(struct __CFString *)arg2;
- (void)wakeUpPrimaryRunLoop;
- (void)dispatchAsyncOnPrimaryThreadInMode:(struct __CFString *)arg1 block:(CDUnknownBlockType)arg2;
@property(readonly) TSKAccessControllerRunLoop *primaryRunLoop;
@property struct __CFRunLoop *runLoop;
- (void)dealloc;
- (id)initWithPrimaryRunloop:(struct __CFRunLoop *)arg1 delegate:(id)arg2;
- (id)initWithDelegate:(id)arg1;
- (id)init;

@end

