//
//     Generated by classdump-c 4.2.0 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard. Updated in 2022 by Kevin Bradley.
//

#import <objc/NSObject.h>

@class BMFrameStore, BMPruningPolicy, BMStoreConfig, BMStreamMetadata, NSString, _PASLock;

@interface BMStreamDatastoreBase : NSObject
{
    unsigned long long _permission;
    unsigned long long _datastoreVersion;
    unsigned long long _maxFileSize;
    NSString *_streamPath;
    _Bool _isRemote;
    _Bool _isTombstone;
    NSString *_remoteStreamName;
    BMStreamMetadata *_metadata;
    BMPruningPolicy *_pruningPolicy;
    Class _eventDataClass;
    BMStoreConfig *_config;
    id _lockStateChangeRegistration;
    _PASLock *_deviceLockStateLock;
    NSString *_streamId;
    BMFrameStore *_framesStore;
}

+ (long long)fileSizeOfURL:(id)arg1;
+ (id)orderedSegmentsInDirectory:(id)arg1 includeZeroSizeSegments:(_Bool)arg2;
+ (unsigned long long)indexOfSegmentContainingEventTime:(double)arg1 fromSegments:(id)arg2;
+ (double)timestampWithFilename:(id)arg1;
+ (id)fileNameWithTimestamp:(double)arg1;
- (void).cxx_destruct;
@property(readonly, nonatomic) BMPruningPolicy *pruningPolicy; // @synthesize pruningPolicy=_pruningPolicy;
@property(readonly, nonatomic) NSString *remoteStreamName; // @synthesize remoteStreamName=_remoteStreamName;
@property(readonly, nonatomic) _Bool isRemote; // @synthesize isRemote=_isRemote;
@property(readonly, nonatomic) NSString *streamPath; // @synthesize streamPath=_streamPath;
@property(readonly, nonatomic) unsigned long long datastoreVersion; // @synthesize datastoreVersion=_datastoreVersion;
@property(readonly, nonatomic) unsigned long long permission; // @synthesize permission=_permission;
@property(readonly, nonatomic) BMStoreConfig *config; // @synthesize config=_config;
@property(retain, nonatomic) BMFrameStore *framesStore; // @synthesize framesStore=_framesStore;
@property(readonly, copy, nonatomic) NSString *streamId; // @synthesize streamId=_streamId;
- (id)filelockPath;
@property(readonly, nonatomic) unsigned long long maxFileSize;
- (_Bool)saveMetadata:(id)arg1;
- (id)loadMetadata;
- (_Bool)updateMetadata:(Class)arg1 pruningPolicy:(id)arg2;
- (_Bool)updateMetadata:(Class)arg1;
- (id)metadataPath;
- (void)didMarkFrameAsRemovedWithSegmentName:(id)arg1 frame:(id)arg2 reason:(unsigned long long)arg3 outTombstoneBookmark:(id *)arg4;
- (void)didMarkFrameAsRemovedWithSegmentName:(id)arg1 frame:(id)arg2 reason:(unsigned long long)arg3;
- (id)frameStoreOfSegmentContainingEventTime:(double)arg1;
- (id)segmentWithFilename:(id)arg1 segmentNames:(id)arg2 segmentFileHandles:(id)arg3 createNewFile:(_Bool)arg4 error:(id *)arg5;
- (id)segmentWithFilename:(id)arg1 error:(id *)arg2;
- (void)handleDeviceLocking;
- (void)handleDeviceUnlock;
- (id)newFramestoreWithTime:(double)arg1 segmentNames:(id)arg2 segmentFileHandles:(id)arg3;
- (id)newFramestoreWithTime:(double)arg1;
- (id)nextSegmentAfterFrameStore:(id)arg1 segmentNames:(id)arg2 direction:(unsigned long long)arg3;
- (_Bool)_segmentStillExists:(id)arg1;
- (id)segmentAfterFrameStore:(id)arg1 createNewSegment:(_Bool)arg2 direction:(unsigned long long)arg3;
- (id)segmentAfterFrameStore:(id)arg1 createNewSegment:(_Bool)arg2;
- (void)fetchEventFromFrameStore:(id)arg1 atOffset:(unsigned long long)arg2 withOptions:(unsigned long long)arg3 callback:(CDUnknownBlockType)arg4;
- (void)reverseEnumerateSegmentsNamesFrom:(double)arg1 to:(double)arg2 withBlock:(CDUnknownBlockType)arg3;
- (void)reverseEnumerateSegmentsFrom:(double)arg1 to:(double)arg2 withBlock:(CDUnknownBlockType)arg3;
- (void)enumerateSegmentsNamesFrom:(double)arg1 to:(double)arg2 withBlock:(CDUnknownBlockType)arg3;
- (void)enumerateSegmentsFrom:(double)arg1 to:(double)arg2 withBlock:(CDUnknownBlockType)arg3;
- (_Bool)writeEventBytes:(const void *)arg1 length:(unsigned long long)arg2 dataVersion:(unsigned int)arg3 timestamp:(double)arg4 outBookmark:(id *)arg5;
- (id)_bookmarkWithSegmentName:(id)arg1 offset:(unsigned long long)arg2;
- (_Bool)writeEventData:(id)arg1 dataVersion:(unsigned int)arg2 timestamp:(double)arg3 outBookmark:(id *)arg4;
- (_Bool)writeEventBytes:(const void *)arg1 length:(unsigned long long)arg2 dataVersion:(unsigned int)arg3 timestamp:(double)arg4;
- (_Bool)writeEventData:(id)arg1 dataVersion:(unsigned int)arg2 timestamp:(double)arg3;
- (void)enumerateEventsFrom:(double)arg1 to:(double)arg2 options:(unsigned long long)arg3 usingBlock:(CDUnknownBlockType)arg4;
- (_Bool)deleteEventAtBookmark:(id)arg1 outTombstoneBookmark:(id *)arg2;
- (id)newEnumeratorFromBookmark:(id)arg1 options:(unsigned long long)arg2;
- (id)newEnumeratorFromBookmark:(id)arg1;
- (id)newEnumeratorFromStartTime:(double)arg1 endTime:(double)arg2 maxEvents:(unsigned long long)arg3 lastN:(unsigned long long)arg4 options:(unsigned long long)arg5;
- (id)newEnumeratorFromStartTime:(double)arg1 endTime:(double)arg2 maxEvents:(unsigned long long)arg3 options:(unsigned long long)arg4;
- (id)newEnumeratorFromStartTime:(double)arg1 endTime:(double)arg2 options:(unsigned long long)arg3;
- (id)newEnumeratorFromStartTime:(double)arg1 options:(unsigned long long)arg2;
- (id)newEnumeratorFromStartTime:(double)arg1;
- (void)eventsFrom:(double)arg1 to:(double)arg2 reason:(unsigned long long)arg3 shouldDeleteUsingBlock:(CDUnknownBlockType)arg4;
- (void)eventsFrom:(double)arg1 to:(double)arg2 shouldDeleteUsingBlock:(CDUnknownBlockType)arg3;
- (_Bool)removeFrameStoreFileWithSegmentName:(id)arg1;
- (_Bool)isNotLastSegment:(id)arg1;
- (void)pruneStreamToMaxSegmentAge:(double)arg1;
- (void)pruneStreamToMaxStreamSizeInBytes:(unsigned long long)arg1;
- (void)removeEventsFrom:(double)arg1 to:(double)arg2 reason:(unsigned long long)arg3 pruneFutureEvents:(_Bool)arg4 shouldDeleteUsingBlock:(CDUnknownBlockType)arg5;
- (void)removeEventsFrom:(double)arg1 to:(double)arg2 reason:(unsigned long long)arg3 pruneFutureEvents:(_Bool)arg4 usingBlock:(CDUnknownBlockType)arg5;
- (void)removeEventsFrom:(double)arg1 to:(double)arg2 pruneFutureEvents:(_Bool)arg3 usingBlock:(CDUnknownBlockType)arg4;
- (void)removeEventsFrom:(double)arg1 to:(double)arg2 pruneFutureEvents:(_Bool)arg3 shouldDeleteUsingBlock:(CDUnknownBlockType)arg4;
- (id)fetchEventsFrom:(double)arg1 to:(double)arg2 options:(unsigned long long)arg3;
- (id)fetchEventsFrom:(double)arg1 to:(double)arg2;
- (_Bool)writeEventWithEventBody:(id)arg1 timestamp:(double)arg2 outBookmark:(id *)arg3;
- (_Bool)writeEventWithEventBody:(id)arg1 timestamp:(double)arg2;
- (_Bool)writeEventWithEventBody:(id)arg1;
- (unsigned long long)segmentFileSize:(id)arg1;
- (unsigned long long)streamSizeInBytes;
@property(readonly, nonatomic) _Bool canReadOrPruneData;
- (Class)eventBodyClass;
@property(readonly, nonatomic) BMStreamMetadata *metadata;
- (id)segmentNames;
- (void)syncMappedFiles;
- (id)_remoteStreamPath;
- (id)_localStreamPath;
- (id)effectiveStreamPath;
- (void)dealloc;
- (id)initWithStream:(id)arg1 streamPath:(id)arg2 permission:(unsigned long long)arg3 config:(id)arg4;
- (id)initWithStream:(id)arg1 permission:(unsigned long long)arg2 config:(id)arg3;
- (id)fileHandleForFile:(id)arg1 createNewFile:(_Bool)arg2 error:(id *)arg3;
- (id)filePathForFilename:(id)arg1;
- (void)openFiles:(id)arg1 saveToOpenFiles:(id)arg2;
- (_Bool)shouldCacheFileDescriptors;
- (void)updateSegmentsWithGuardedDeviceLockStateData:(id)arg1;
- (void)updateSegments;

@end

