//
//     Generated by classdump-c 4.2.0 (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard. Updated in 2022 by Kevin Bradley.
//

#import <objc/NSObject.h>

@class NSArray, NSDictionary, NSMutableArray, NSMutableDictionary, NSMutableSet, NSPointerArray, NSTimer;
@protocol WBSExtensionsControllerDelegate;

@interface WBSExtensionsController : NSObject
{
    id <WBSExtensionsControllerDelegate> _delegate;
    id _extensionMatchingContext;
    NSMutableDictionary *_extensionUniqueIdentifierToExtensionDataMap;
    NSMutableDictionary *_extensionIdentifierToStateMap;
    NSMutableDictionary *_extensionIdentifierToBaseURIMap;
    NSMutableDictionary *_baseURIHostToExtensionIdentifier;
    _Bool _loadingEnabledExtensionsAtStartup;
    NSMutableSet *_enabledExtensions;
    NSMutableArray *_extensions;
    NSMutableSet *_replacedExtensions;
    NSMutableSet *_blockedExtensions;
    NSTimer *_deleteStateForRemovedExtensionsTimer;
    NSPointerArray *_observers;
    NSArray *_allDiscoveredExtensions;
    _Bool _loadingDiscoveredExtensions;
    _Bool _loadEnabledExtensionsWasCalled;
    _Bool _extensionsEnabled;
}

+ (id)_extensionStateEnabledDateKey;
+ (_Bool)_initializeExtensionData:(id)arg1 forExtension:(id)arg2;
+ (id)_urlForExtensionSettings;
+ (id)_skipLoadingEnabledExtensionsAtLaunchPreferenceKey;
+ (id)extensionURLScheme;
+ (id)extensionsCrashReporterMessageBundleParameterKey;
+ (id)_extensionPointIdentifier;
+ (id)extensionIdentifierToBaseURIMapBundleParameterKey;
+ (id)_composedIdentifierForStateOfExtensionWithBundleIdentifier:(id)arg1 developerIdentifier:(id)arg2;
+ (id)_extensionFromComposedIdentifier:(id)arg1;
+ (id)_bundleIdentifierFromComposedIdentifier:(id)arg1;
+ (void)removeExtensionBundleIDFromArrayOfBlocklistedExtensions:(id)arg1;
+ (_Bool)hasBlockedPromptAppearedForExtensionWithIdentifier:(id)arg1;
+ (Class)_extensionDataClass;
+ (id)_extensionDefaults;
- (void).cxx_destruct;
@property(readonly, nonatomic) _Bool extensionsEnabled; // @synthesize extensionsEnabled=_extensionsEnabled;
@property(readonly, nonatomic) _Bool loadEnabledExtensionsWasCalled; // @synthesize loadEnabledExtensionsWasCalled=_loadEnabledExtensionsWasCalled;
@property(readonly, nonatomic) _Bool loadingEnabledExtensionsAtStartup; // @synthesize loadingEnabledExtensionsAtStartup=_loadingEnabledExtensionsAtStartup;
@property(readonly, copy, nonatomic) NSMutableArray *extensions; // @synthesize extensions=_extensions;
@property(nonatomic) __weak id <WBSExtensionsControllerDelegate> delegate; // @synthesize delegate=_delegate;
- (void)_notifyObserversContentBlockerListDidChange;
- (void)_validateContainingAppOfExtensionIfNecessary:(id)arg1 attemptRetryOnFailure:(_Bool)arg2;
- (void)_updateExtensionStateIfThisVersionOfSafariIsNotSupported:(id)arg1;
- (void)_updateExtensionStateIfPermissionsIncreased:(id)arg1;
- (void)_updateExtensionsCrashReporterMessage;
- (void)_showNewExtensionBannerIfNecessaryForExtensions:(id)arg1;
- (void)_replaceExtensionsObsoletedByExtension:(id)arg1 developerIdentifier:(id)arg2;
- (_Bool)_isExtensionBlockedByBlocklist:(id)arg1 developerIdentifier:(id)arg2;
- (void)_enableExtension:(id)arg1 completionHandler:(CDUnknownBlockType)arg2;
- (void)disableUnsignedExtensionsIfNecessary;
- (void)_deleteStorageForExtensionWithComposedIdentifier:(id)arg1;
- (void)_deferAccessToExtensionsDataInStorageDuringLoad:(_Bool)arg1;
- (void)_connectToExtensionForValidation:(id)arg1 untrustedCodeSigningDictionary:(id)arg2 attemptRetryOnFailure:(_Bool)arg3;
- (id)_computeCodeSigningDictionaryOnDiskForExtension:(id)arg1 attemptRetryOnFailure:(_Bool)arg2;
- (void)_didDiscoverExtensionCount:(int)arg1;
- (_Bool)_canAccessExtensionsDataInStorage;
- (void)_unloadPreviouslyEnabledExtension:(id)arg1;
- (id)_versionNumberForExtension:(id)arg1;
- (id)_updatedExtensionStateForCurrentPermissions:(id)arg1 previousExtensionState:(id)arg2;
- (void)_loadEnabledExtension:(id)arg1;
- (id)_generateBaseURIForExtension:(id)arg1;
- (id)extensionWithBaseURIHost:(id)arg1;
- (id)_displayVersionForExtension:(id)arg1;
- (id)_displayNameForExtension:(id)arg1;
- (id)_developerIdentifierForExtension:(id)arg1;
- (void)unloadExtensionIfNecessary:(id)arg1;
- (void)_blockExtension:(id)arg1;
- (void)_disableAndBlockExtension:(id)arg1;
- (void)_setExtensionState:(id)arg1 forExtension:(id)arg2 completionHandler:(CDUnknownBlockType)arg3;
- (void)_setExtensionState:(id)arg1 forExtension:(id)arg2;
- (void)_extensionsWereGloballyDisabled;
- (void)_extensionsWereGloballyEnabled;
- (id)extensionWithComposedIdentifier:(id)arg1;
- (id)extensionWithUUID:(id)arg1;
- (void)_addExtensionToBaseURIMap:(id)arg1 withResourceURL:(id)arg2;
- (_Bool)validateAndReadResourceWithExtensionURL:(id)arg1 inExtension:(id)arg2 codeRef:(struct __SecCode *)arg3 outResourceData:(id *)arg4;
- (_Bool)validateAndReadResourceWithExtensionURL:(id)arg1 inExtension:(id)arg2 outResourceData:(id *)arg3;
- (_Bool)validateAndReadResourceWithExtensionURL:(id)arg1 outResourceData:(id *)arg2;
- (void)_removeSafariExtensionDataForExtension:(id)arg1;
- (void)_deleteStateForRemovedExtensionsTimerFired:(id)arg1;
- (void)_deleteStateForRemovedExtensionsSoon;
- (void)_deleteStateForRemovedExtensionsAfterDelay:(double)arg1;
- (void)_deleteStateForRemovedExtensions;
- (void)_deleteStateForExtensionWithComposedIdentifier:(id)arg1;
- (void)_updateExtensionStateAfterExtensionWasRemovedWithComposedIdentifier:(id)arg1;
@property(readonly, copy, nonatomic) NSArray *enabledExtensions;
- (void)setExtension:(id)arg1 isEnabled:(_Bool)arg2 skipSavingToStorage:(_Bool)arg3;
- (void)setExtension:(id)arg1 isEnabled:(_Bool)arg2;
- (_Bool)extensionIsEnabled:(id)arg1;
@property(readonly, copy, nonatomic) NSDictionary *extensionIdentifierToBaseURIMap;
@property(readonly, nonatomic) _Bool hasAnyEnabledExtensions;
- (_Bool)hasAnyEnabledExtensionsInStorage;
- (void)resetExtensionsState;
- (void)_updateExtensionStateAfterExtensionWasAddedWithComposedIdentifier:(id)arg1;
- (void)_setExtensionIdentifierToStateMap:(id)arg1 forExtensionWithComposedIdentifier:(id)arg2 completionHandler:(CDUnknownBlockType)arg3;
- (void)_setExtensionIdentifierToStateMap:(id)arg1 forExtensionWithComposedIdentifier:(id)arg2;
- (id)readExtensionsStateFromStorage;
- (void)writeExtensionsStateToStorageWithCompletionHandler:(CDUnknownBlockType)arg1;
- (void)_writeExtensionsStateToStorage;
- (id)_extensionStateForExtension:(id)arg1;
- (_Bool)_extensionShouldBeAutomaticallyEnabled:(id)arg1;
- (_Bool)_extensionShouldBeEnabled:(id)arg1;
- (void)_validateAndLoadExtensionIfNecessary:(id)arg1 attemptRetryOnFailure:(_Bool)arg2 isExtensionNewlyInstalled:(_Bool *)arg3;
- (void)_loadExtensions:(id)arg1;
- (id)composedIdentifierForExtensionStateForExtension:(id)arg1;
- (id)extensionDataForExtension:(id)arg1;
- (void)loadEnabledExtensions;
- (void)loadSuitableDiscoveredExtensions;
- (void)_beginExtensionDiscovery;
- (void)findExtensions;
- (void)removeObserver:(id)arg1;
- (void)addObserver:(id)arg1;
- (void)dealloc;
- (id)init;

@end

